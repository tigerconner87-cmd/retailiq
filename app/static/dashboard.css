/* =============================================
   RetailIQ Dashboard Styles
   ============================================= */

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
button,select,input,textarea{font-family:inherit;font-size:inherit;color:inherit;line-height:inherit}

:root {
  --bg-0:#09090b;--bg-1:#111114;--bg-2:#1a1a1f;--bg-3:#232329;
  --surface:#18181b;--border:#27272a;--border-light:#3f3f46;
  --text:#fafafa;--text2:#a1a1aa;--text3:#71717a;
  --primary:#6366f1;--primary-light:#818cf8;--primary-dark:#4f46e5;
  --accent:#06b6d4;--success:#10b981;--danger:#ef4444;--warning:#f59e0b;
  --sidebar-w:240px;--topbar-h:60px;--radius:12px;--radius-sm:8px;
}

[data-theme="light"] {
  --bg-0:#ffffff;--bg-1:#f8f9fa;--bg-2:#f1f3f5;--bg-3:#e9ecef;
  --surface:#ffffff;--border:#e5e7eb;--border-light:#d1d5db;
  --text:#111827;--text2:#4b5563;--text3:#9ca3af;
}

html{scroll-behavior:smooth}
body{font-family:'Inter',sans-serif;background:var(--bg-0);color:var(--text);display:flex;min-height:100vh;overflow-x:hidden}
a{color:inherit;text-decoration:none}

/* ── Sidebar ── */
.sidebar{width:var(--sidebar-w);background:var(--bg-1);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;transition:transform .3s}
.sidebar-header{padding:20px 16px;border-bottom:1px solid var(--border)}
.logo{display:flex;align-items:center;gap:10px;font-weight:800;font-size:18px}
.sidebar-nav{flex:1;padding:12px 8px;display:flex;flex-direction:column;gap:2px}
.nav-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-sm);font-size:14px;font-weight:500;color:var(--text2);transition:.2s;position:relative}
.nav-item:hover{background:var(--bg-2);color:var(--text)}
.nav-item.active{background:rgba(99,102,241,.1);color:var(--primary-light)}
.nav-item .badge{position:absolute;right:12px;background:var(--danger);color:#fff;font-size:11px;font-weight:700;padding:1px 6px;border-radius:50px;min-width:20px;text-align:center}
.sidebar-footer{padding:16px 12px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:12px;margin-top:auto}
.sidebar-user-row{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:4px}
.user-info{display:flex;align-items:center;gap:10px;min-width:0;flex:1}
.user-avatar{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff}
.user-name{font-size:13px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px}
.user-plan{font-size:11px;color:var(--text3);text-transform:capitalize}
.logout-btn{background:none;border:1px solid var(--border);border-radius:var(--radius-sm);width:34px;height:34px;display:flex;align-items:center;justify-content:center;color:var(--text3);cursor:pointer;transition:.2s}
.logout-btn:hover{border-color:var(--danger);color:var(--danger)}

/* ── Main ── */
.main{flex:1;margin-left:var(--sidebar-w);display:flex;flex-direction:column;min-height:100vh}
.topbar{height:var(--topbar-h);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 24px;background:var(--bg-1);position:sticky;top:0;z-index:50;gap:16px}
.topbar-left{min-width:0;flex-shrink:0}
.topbar-left h1{font-size:18px;font-weight:700}
.topbar-right{display:flex;align-items:center;gap:10px;flex-shrink:0}
.topbar-center{flex:1;max-width:400px;margin:0 auto}
.refresh-indicator{color:var(--text3);display:flex;align-items:center}
.refresh-indicator.spinning svg{animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
svg.spin{animation:spin .8s linear infinite}
.theme-toggle{background:none;border:1px solid var(--border);border-radius:var(--radius-sm);width:34px;height:34px;display:flex;align-items:center;justify-content:center;color:var(--text2);cursor:pointer;transition:.2s}
.theme-toggle:hover{border-color:var(--primary);color:var(--primary-light)}
[data-theme="dark"] .icon-sun{display:block}[data-theme="dark"] .icon-moon{display:none}
[data-theme="light"] .icon-sun{display:none}[data-theme="light"] .icon-moon{display:block}
.mobile-toggle{display:none;background:none;border:none;color:var(--text);cursor:pointer;padding:4px}
.last-updated{font-size:11px;color:var(--text3);white-space:nowrap}

/* ── Breadcrumb ── */
.breadcrumb{display:flex;align-items:center;gap:4px;font-size:11px;color:var(--text3);margin-bottom:2px}
.breadcrumb svg{opacity:.5}

/* ── Search ── */
.search-wrap{position:relative;width:100%}
.search-input{width:100%;padding:7px 12px 7px 32px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-2);color:var(--text);font-size:13px;outline:none;transition:.2s}
.search-input:focus{border-color:var(--primary);background:var(--bg-3)}
.search-input::placeholder{color:var(--text3)}
.search-icon{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--text3);pointer-events:none}
.search-kbd{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:var(--bg-3);border:1px solid var(--border);border-radius:4px;padding:1px 6px;font-size:10px;color:var(--text3);font-family:'Inter',sans-serif;pointer-events:none}
.search-input:focus ~ .search-kbd{display:none}
.search-results{position:absolute;top:calc(100% + 6px);left:0;right:0;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 10px 40px rgba(0,0,0,.3);z-index:200;max-height:320px;overflow-y:auto}
.search-result-item{display:flex;align-items:center;gap:10px;padding:10px 14px;cursor:pointer;transition:.15s;border-bottom:1px solid var(--border)}
.search-result-item:last-child{border-bottom:none}
.search-result-item:hover{background:var(--bg-2)}
.search-result-icon{font-size:18px;width:28px;text-align:center}
.search-result-text{flex:1;min-width:0}
.search-result-title{font-size:13px;font-weight:600}
.search-result-sub{font-size:11px;color:var(--text3)}
.search-empty{padding:20px;text-align:center;color:var(--text3);font-size:13px}

/* ── Sidebar Overlay (mobile) ── */
.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:99}
.sidebar-overlay.show{display:block}

/* ── Keyboard Shortcuts Modal ── */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(8px);z-index:300;align-items:center;justify-content:center}
.modal-overlay.show{display:flex}
.shortcuts-modal{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);width:90%;max-width:420px;animation:modalSlide .2s ease}
@keyframes modalSlide{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.shortcuts-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--border)}
.shortcuts-header h2{font-size:16px;font-weight:700}
.shortcuts-close{background:none;border:none;color:var(--text3);font-size:20px;cursor:pointer;padding:0 4px;line-height:1}
.shortcuts-close:hover{color:var(--text)}
.shortcuts-body{padding:12px 20px}
.shortcut-row{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)}
.shortcut-row:last-child{border-bottom:none}
.shortcut-row kbd{background:var(--bg-3);border:1px solid var(--border);border-radius:4px;padding:3px 8px;font-size:12px;font-weight:600;font-family:'Inter',monospace;min-width:28px;text-align:center}
.shortcut-row span{font-size:13px;color:var(--text2)}

/* ── Tooltips ── */
[data-tooltip]{position:relative;cursor:help}
[data-tooltip]::after{content:attr(data-tooltip);position:absolute;bottom:calc(100% + 6px);left:50%;transform:translateX(-50%);background:var(--bg-3);color:var(--text);font-size:11px;font-weight:500;padding:6px 10px;border-radius:6px;white-space:nowrap;max-width:260px;white-space:normal;text-align:center;pointer-events:none;opacity:0;transition:opacity .2s;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,.2);line-height:1.4}
[data-tooltip]:hover::after{opacity:1}

/* ── Loading Skeleton ── */
.skeleton{background:linear-gradient(90deg,var(--bg-2) 25%,var(--bg-3) 50%,var(--bg-2) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:var(--radius-sm)}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.skeleton-text{height:14px;margin-bottom:8px;width:80%}
.skeleton-value{height:32px;width:60%;margin-bottom:4px}
.skeleton-chart{height:200px;width:100%}

/* ── Card Animations ── */
.card-animate{opacity:0;transform:translateY(12px);animation:cardIn .4s ease forwards}
@keyframes cardIn{to{opacity:1;transform:translateY(0)}}

/* ── Section Fade ── */
@keyframes sectionFadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* ── Toast Notifications ── */
.toast-container{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:8px;pointer-events:none}
.toast{display:flex;align-items:center;gap:10px;padding:12px 18px;border-radius:var(--radius-sm);background:var(--bg-2);border:1px solid var(--border);box-shadow:0 8px 24px rgba(0,0,0,.25);font-size:13px;font-weight:500;opacity:0;transform:translateX(40px);transition:opacity .3s ease,transform .3s ease;pointer-events:auto;max-width:340px}
.toast.show{opacity:1;transform:translateX(0)}
.toast-icon{font-size:16px;flex-shrink:0}
.toast-success{border-color:var(--success)}.toast-success .toast-icon{color:var(--success)}
.toast-error{border-color:var(--danger)}.toast-error .toast-icon{color:var(--danger)}
.toast-warning{border-color:var(--warning)}.toast-warning .toast-icon{color:var(--warning)}
.toast-info{border-color:var(--primary)}.toast-info .toast-icon{color:var(--primary-light)}

/* ── Copy Button Micro-interaction ── */
.copied{background:rgba(16,185,129,.12)!important;border-color:var(--success)!important;color:var(--success)!important;transition:all .2s ease}

/* ── Number Counter Animation ── */
.count-up{display:inline-block}

/* ── Insight Cards ── */
.insight-strip{display:flex;gap:12px;overflow-x:auto;padding:4px 0 12px;margin-bottom:16px;scrollbar-width:thin}
.insight-chip{flex-shrink:0;display:flex;align-items:center;gap:8px;padding:8px 14px;background:var(--surface);border:1px solid var(--border);border-radius:50px;font-size:12px;color:var(--text2);cursor:default;transition:.2s;max-width:360px}
.insight-chip:hover{border-color:var(--primary);background:var(--bg-2)}
.insight-chip-icon{font-size:16px}
.insight-chip-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* ── Sparkline ── */
.sparkline{display:inline-block;vertical-align:middle;margin-left:8px}
.sparkline svg{vertical-align:middle}

/* ── Date Range Picker ── */
.date-range-wrap{position:relative}
.date-range-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-2);color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s;white-space:nowrap}
.date-range-btn:hover{border-color:var(--primary);color:var(--text)}
.date-range-btn svg{flex-shrink:0}
.date-range-dropdown{position:absolute;top:calc(100% + 6px);right:0;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 10px 40px rgba(0,0,0,.3);z-index:200;min-width:180px;display:none}
.date-range-dropdown.show{display:block}
.date-range-option{padding:10px 16px;font-size:13px;cursor:pointer;transition:.15s;color:var(--text2)}
.date-range-option:hover{background:var(--bg-2);color:var(--text)}
.date-range-option.active{color:var(--primary-light);font-weight:600}

/* ── Notification Bell Pulse ── */
.notif-bell-btn.has-unread::before{content:'';position:absolute;top:-2px;right:-2px;width:10px;height:10px;background:var(--danger);border-radius:50%;animation:bellPulse 2s ease-in-out infinite}
@keyframes bellPulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(1.3)}}

/* ── Export Button ── */
.export-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:transparent;color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.export-btn:hover{border-color:var(--primary);color:var(--primary-light);background:rgba(99,102,241,.05)}
.export-btn svg{flex-shrink:0}

/* ── Print ── */
@media print{
  .sidebar,.topbar,.quick-stats-bar,.trial-banner,.welcome-banner,.sidebar-overlay,.notif-dropdown,.search-wrap,.mobile-toggle,.export-btn,.date-range-wrap{display:none!important}
  .main{margin-left:0!important}
  .content{padding:0!important}
  body{background:#fff!important;color:#111!important}
  .card{border:1px solid #ddd!important;break-inside:avoid}
  .kpi-card{border:1px solid #ddd!important}
}

/* ── Quick Stats Bar ── */
.quick-stats-bar{display:flex;align-items:center;justify-content:center;gap:28px;padding:8px 24px;background:var(--bg-2);border-bottom:1px solid var(--border);font-size:13px;color:var(--text2);flex-wrap:wrap}
.quick-stat-item{display:flex;align-items:center;gap:6px;white-space:nowrap}
.quick-stat-item strong{color:var(--text);font-weight:700}
.quick-stat-icon{font-size:14px;line-height:1}

/* ── Section Toolbar ── */
.section-toolbar{display:flex;align-items:center;justify-content:flex-end;gap:10px;margin-bottom:16px}

/* ── Content ── */
.content{padding:24px;flex:1}
.section{display:none}
.section.active{display:block}

/* ── KPI Cards ── */
.kpi-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}
.kpi-grid.small{grid-template-columns:repeat(4,1fr)}
.kpi-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);transition:transform .2s}
.kpi-card:hover{transform:translateY(-2px)}
.kpi-label{font-size:12px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:8px}
.kpi-value{font-size:28px;font-weight:800;letter-spacing:-.02em}
.kpi-change{font-size:13px;font-weight:600;margin-top:4px}
.kpi-change.up{color:var(--success)}
.kpi-change.down{color:var(--danger)}
.kpi-sub{font-size:12px;color:var(--text3);margin-top:4px}

/* ── Cards ── */
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
.card-header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.card-header h3{font-size:14px;font-weight:700}
.card-body{padding:20px}

/* ── Chart Row ── */
.chart-row{display:grid;grid-template-columns:1.6fr 1fr;gap:16px;margin-bottom:16px}
.chart-card.wide{min-height:320px}
.chart-card canvas{width:100%!important;max-height:260px}

/* ── Grid ── */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.mt{margin-top:16px}

/* ── Data Table ── */
.data-table{width:100%;border-collapse:collapse}
.data-table th{text-align:left;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.04em;color:var(--text3);padding:8px 12px;border-bottom:1px solid var(--border)}
.data-table td{padding:10px 12px;border-bottom:1px solid var(--border);font-size:13px;color:var(--text2)}
.data-table tr:last-child td{border-bottom:none}
.data-table tr:hover td{background:var(--bg-2)}

/* ── Heatmap ── */
.heatmap-container{display:flex;flex-direction:column;gap:2px;min-height:200px}
.heatmap-row{display:flex;align-items:center;gap:2px}
.heatmap-label{width:32px;font-size:10px;color:var(--text3);text-align:right;padding-right:4px;flex-shrink:0}
.heatmap-cell{flex:1;height:22px;border-radius:3px;min-width:16px;position:relative;cursor:default}
.heatmap-cell:hover::after{content:attr(data-tip);position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:var(--bg-3);color:var(--text);padding:4px 8px;border-radius:4px;font-size:10px;white-space:nowrap;z-index:10;pointer-events:none}
.heatmap-header{display:flex;gap:2px;padding-left:36px;margin-bottom:2px}
.heatmap-header span{flex:1;font-size:9px;color:var(--text3);text-align:center}

/* ── Alerts ── */
.alert-list{display:flex;flex-direction:column;gap:8px}
.alert-item{padding:12px 16px;border-radius:var(--radius-sm);border-left:3px solid var(--border);background:var(--bg-2);transition:.2s}
.alert-item.critical{border-left-color:var(--danger)}
.alert-item.warning{border-left-color:var(--warning)}
.alert-item.info{border-left-color:var(--accent)}
.alert-item .alert-title{font-size:13px;font-weight:600;margin-bottom:4px}
.alert-item .alert-msg{font-size:12px;color:var(--text2)}
.alert-item .alert-time{font-size:11px;color:var(--text3);margin-top:4px}
.alert-item.unread{background:var(--bg-3)}

/* ── Reviews ── */
.review-list{display:flex;flex-direction:column;gap:12px}
.review-item{padding:16px;border-radius:var(--radius-sm);border:1px solid var(--border);background:var(--bg-2)}
.review-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.review-author{font-size:13px;font-weight:600}
.review-stars{color:var(--warning);font-size:14px;letter-spacing:1px}
.review-text{font-size:13px;color:var(--text2);line-height:1.6;font-style:italic}
.review-date{font-size:11px;color:var(--text3);margin-top:8px}
.sentiment-tag{display:inline-block;padding:2px 8px;border-radius:50px;font-size:10px;font-weight:600;text-transform:uppercase}
.sentiment-tag.positive{background:rgba(16,185,129,.15);color:var(--success)}
.sentiment-tag.negative{background:rgba(239,68,68,.15);color:var(--danger)}
.sentiment-tag.neutral{background:rgba(245,158,11,.15);color:var(--warning)}

/* ── Empty State ── */
.empty-state{text-align:center;padding:40px 20px;color:var(--text3)}
.empty-state p{font-size:14px}

/* ── AI Actions ── */
.ai-actions-card{background:var(--surface);border:1px solid var(--primary);border-radius:var(--radius);margin-bottom:20px;overflow:hidden;box-shadow:0 0 20px rgba(99,102,241,.08)}
.ai-actions-header{padding:16px 20px;border-bottom:1px solid var(--border);background:linear-gradient(135deg,rgba(99,102,241,.06),rgba(6,182,212,.04))}
.ai-actions-title{display:flex;align-items:center;gap:8px;font-size:15px;font-weight:700;color:var(--primary-light)}
.ai-tag{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.06em;padding:2px 8px;border-radius:50px;background:rgba(99,102,241,.12);color:var(--primary-light);margin-left:4px}
.ai-actions-body{padding:12px 16px;display:flex;flex-direction:column;gap:2px}
.ai-action{display:flex;gap:14px;padding:12px 8px;border-radius:var(--radius-sm);transition:background .15s}
.ai-action:hover{background:var(--bg-2)}
.ai-action-emoji{font-size:22px;flex-shrink:0;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);background:var(--bg-2)}
.ai-action-content{flex:1;min-width:0}
.ai-action-title{font-size:13px;font-weight:600;margin-bottom:2px}
.ai-action-desc{font-size:12px;color:var(--text2);line-height:1.5}
.ai-action .priority-dot{display:inline-block;width:6px;height:6px;border-radius:50%;margin-right:6px;flex-shrink:0;margin-top:5px}
.ai-action .priority-dot.high{background:var(--danger)}
.ai-action .priority-dot.medium{background:var(--warning)}
.ai-action .priority-dot.low{background:var(--success)}
.ai-loading{text-align:center;padding:20px;color:var(--text3);font-size:13px}

/* ── Competitor Intelligence ── */
.comp-tabs{display:flex;gap:4px;margin-bottom:20px;overflow-x:auto;padding-bottom:4px}
.comp-tab{padding:8px 16px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:13px;font-weight:600;cursor:pointer;transition:.2s;white-space:nowrap}
.comp-tab:hover{border-color:var(--primary);color:var(--primary-light)}
.comp-tab.active{background:rgba(99,102,241,.15);border-color:var(--primary);color:var(--primary-light);box-shadow:0 0 8px rgba(99,102,241,.15)}
.comp-panel{display:none}
.comp-panel.active{display:block}

/* Competitor Cards Grid */
.comp-cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
.comp-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);transition:transform .2s}
.comp-card:hover{transform:translateY(-2px)}
.comp-card.own-shop{border-color:var(--primary);box-shadow:0 0 20px rgba(99,102,241,.1)}
.comp-card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}
.comp-card-name{font-size:15px;font-weight:700}
.comp-card-name .own-tag{font-size:10px;font-weight:600;padding:2px 8px;border-radius:50px;background:rgba(99,102,241,.15);color:var(--primary-light);margin-left:8px;vertical-align:middle}
.threat-badge{padding:3px 10px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.04em}
.threat-badge.high{background:rgba(239,68,68,.15);color:var(--danger)}
.threat-badge.medium{background:rgba(245,158,11,.15);color:var(--warning)}
.threat-badge.low{background:rgba(16,185,129,.15);color:var(--success)}
.comp-card-rating{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.comp-card-rating .stars{color:var(--warning);font-size:16px;letter-spacing:1px}
.comp-card-rating .rating-num{font-size:22px;font-weight:800}
.comp-card-stats{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.comp-stat{padding:8px;background:var(--bg-2);border-radius:var(--radius-sm)}
.comp-stat-label{font-size:10px;color:var(--text3);text-transform:uppercase;letter-spacing:.04em}
.comp-stat-value{font-size:14px;font-weight:700;margin-top:2px}
.trend-arrow{font-size:12px;margin-left:4px}
.trend-arrow.up{color:var(--success)}
.trend-arrow.down{color:var(--danger)}

/* Comparison Table */
.comp-table-wrap{overflow-x:auto}
.comp-comparison-table td{font-size:12px}
.comp-comparison-table .winning{color:var(--success);font-weight:600}
.comp-comparison-table .losing{color:var(--danger);font-weight:600}
.comp-comparison-table .own-row td{background:rgba(99,102,241,.05)}
.comp-comparison-table .tags{display:flex;flex-wrap:wrap;gap:4px}
.comp-comparison-table .tag{padding:2px 6px;border-radius:4px;font-size:10px;font-weight:600}
.comp-comparison-table .tag.strength{background:rgba(16,185,129,.12);color:var(--success)}
.comp-comparison-table .tag.weakness{background:rgba(239,68,68,.12);color:var(--danger)}

/* Opportunity Alerts */
.opp-list{display:flex;flex-direction:column;gap:16px}
.opp-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);border-left:4px solid var(--border);transition:.2s}
.opp-card:hover{transform:translateY(-2px)}
.opp-card.hot{border-left-color:var(--danger)}
.opp-card.good{border-left-color:var(--warning)}
.opp-card.fyi{border-left-color:var(--accent)}
.opp-card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}
.opp-card-title{font-size:14px;font-weight:700}
.opp-priority{padding:3px 10px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.04em;flex-shrink:0}
.opp-priority.hot{background:rgba(239,68,68,.15);color:var(--danger)}
.opp-priority.good{background:rgba(245,158,11,.15);color:var(--warning)}
.opp-priority.fyi{background:rgba(6,182,212,.15);color:var(--accent)}
.opp-desc{font-size:13px;color:var(--text2);margin-bottom:8px;line-height:1.5}
.opp-why{font-size:12px;color:var(--text3);padding:8px 12px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:12px;line-height:1.5}
.opp-actions{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}
.opp-action{padding:12px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.opp-action-label{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:6px}
.opp-action-text{font-size:12px;color:var(--text2);line-height:1.5}
.opp-action .copy-btn{margin-top:8px;padding:4px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:11px;font-weight:600;cursor:pointer;transition:.2s}
.opp-action .copy-btn:hover{border-color:var(--primary);color:var(--primary-light)}

/* Competitor Filters */
.comp-filters{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
.comp-filters select{padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text);font-size:13px;cursor:pointer}

/* Competitor Review Feed Items */
.comp-review-item{padding:16px;border-radius:var(--radius-sm);border:1px solid var(--border);background:var(--bg-2)}
.comp-review-item .review-comp-name{font-size:11px;color:var(--primary-light);font-weight:600;text-transform:uppercase;letter-spacing:.04em;margin-bottom:4px}
.comp-review-item .capitalize-btn{margin-top:10px;padding:6px 14px;border:1px solid var(--danger);border-radius:var(--radius-sm);background:rgba(239,68,68,.08);color:var(--danger);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.comp-review-item .capitalize-btn:hover{background:rgba(239,68,68,.15)}

/* Sentiment Analysis Grid */
.sentiment-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:16px}
.sentiment-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
.sentiment-card-header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.sentiment-card-header h4{font-size:14px;font-weight:700}
.sentiment-card-body{padding:16px 20px}
.sentiment-bar{display:flex;height:8px;border-radius:4px;overflow:hidden;margin-bottom:12px}
.sentiment-bar .bar-pos{background:var(--success)}
.sentiment-bar .bar-neu{background:var(--warning)}
.sentiment-bar .bar-neg{background:var(--danger)}
.sentiment-labels{display:flex;justify-content:space-between;font-size:11px;color:var(--text3);margin-bottom:12px}
.term-cloud{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:8px}
.term-cloud .term{padding:3px 8px;border-radius:4px;font-size:11px;font-weight:600}
.term-cloud .term.positive{background:rgba(16,185,129,.12);color:var(--success)}
.term-cloud .term.negative{background:rgba(239,68,68,.12);color:var(--danger)}
.sentiment-trend-label{font-size:11px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-top:12px;margin-bottom:6px}

/* Market Map */
.market-map-container{position:relative;min-height:400px}
.market-map-container canvas{width:100%!important;max-height:400px}
.card-sub{font-size:11px;color:var(--text3)}

/* Weekly Report — Newsletter Style */
.weekly-report{max-width:800px;margin:0 auto}
.wr-header{padding:32px;background:linear-gradient(135deg,rgba(99,102,241,.1),rgba(6,182,212,.06));border:1px solid rgba(99,102,241,.3);border-radius:var(--radius);margin-bottom:24px;text-align:center}
.wr-header h2{font-size:22px;font-weight:900;margin-bottom:6px;background:linear-gradient(135deg,var(--primary-light),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.wr-header .wr-dates{font-size:13px;color:var(--text3)}
.wr-summary{font-size:14px;line-height:1.8;color:var(--text2);padding:20px 24px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:20px;position:relative}
.wr-summary::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent));border-radius:var(--radius) var(--radius) 0 0}
.wr-section{margin-bottom:20px;padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.wr-section h3{font-size:15px;font-weight:700;margin-bottom:16px;padding-bottom:10px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px}
.wr-section h3::before{content:"";width:4px;height:18px;background:var(--primary);border-radius:2px}
.wr-comp-row{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:8px;border:1px solid var(--border);transition:.2s}
.wr-comp-row:hover{border-color:var(--primary);transform:translateX(4px)}
.wr-comp-name{font-size:13px;font-weight:700}
.wr-comp-stats{display:flex;gap:16px;font-size:12px;color:var(--text2)}
.wr-opp-item{padding:12px 16px;border-left:3px solid var(--warning);background:var(--bg-2);border-radius:0 var(--radius-sm) var(--radius-sm) 0;margin-bottom:8px;font-size:13px;color:var(--text2);line-height:1.6}
.wr-action-item{padding:10px 16px;font-size:13px;color:var(--text2);line-height:1.5;display:flex;align-items:flex-start;gap:10px}
.wr-action-item::before{content:"";width:8px;height:8px;border-radius:50%;background:var(--primary);flex-shrink:0;margin-top:5px}

/* Marketing Responses */
.marketing-filters{display:flex;gap:6px;margin-bottom:16px}
.mkt-filter-btn{padding:6px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.mkt-filter-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.mkt-filter-btn.active{background:rgba(99,102,241,.15);border-color:var(--primary);color:var(--primary-light)}
.marketing-list{display:flex;flex-direction:column;gap:16px}
.mkt-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
.mkt-card-header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.mkt-card-header h4{font-size:14px;font-weight:700}
.mkt-card-meta{display:flex;gap:8px;align-items:center}
.mkt-status{padding:2px 8px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase}
.mkt-status.new{background:rgba(6,182,212,.15);color:var(--accent)}
.mkt-status.saved{background:rgba(99,102,241,.15);color:var(--primary-light)}
.mkt-status.used{background:rgba(16,185,129,.15);color:var(--success)}
.mkt-card-body{padding:16px 20px}
.mkt-weakness{font-size:13px;color:var(--text2);margin-bottom:12px;padding:10px;background:var(--bg-2);border-radius:var(--radius-sm);border-left:3px solid var(--warning)}
.mkt-responses{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.mkt-response{padding:12px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.mkt-response-label{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:6px}
.mkt-response-text{font-size:12px;color:var(--text2);line-height:1.5;white-space:pre-wrap}
.mkt-card-actions{padding:12px 20px;border-top:1px solid var(--border);display:flex;gap:8px;justify-content:flex-end}
.mkt-btn{padding:6px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.mkt-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.mkt-btn.save{border-color:var(--primary);color:var(--primary-light)}
.mkt-btn.used{border-color:var(--success);color:var(--success)}

/* Capitalize modal — glassmorphism */
.cap-modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:200;align-items:center;justify-content:center}
.cap-modal-overlay.show{display:flex;animation:capFadeIn .3s ease}
@keyframes capFadeIn{from{opacity:0}to{opacity:1}}
.cap-modal{background:rgba(24,24,27,.92);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(99,102,241,.2);border-radius:var(--radius);width:90%;max-width:720px;max-height:80vh;overflow-y:auto;padding:28px;box-shadow:0 25px 60px rgba(0,0,0,.5),0 0 40px rgba(99,102,241,.08);animation:capSlideIn .3s ease}
@keyframes capSlideIn{from{opacity:0;transform:translateY(20px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}
[data-theme="light"] .cap-modal{background:rgba(255,255,255,.92);box-shadow:0 25px 60px rgba(0,0,0,.15),0 0 40px rgba(99,102,241,.05)}
.cap-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid var(--border)}
.cap-modal-header h3{font-size:16px;font-weight:800;background:linear-gradient(135deg,var(--primary-light),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.cap-close{background:none;border:1px solid var(--border);border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;color:var(--text3);font-size:18px;cursor:pointer;transition:.2s}
.cap-close:hover{border-color:var(--danger);color:var(--danger)}
.cap-meta{display:flex;gap:12px;align-items:center;margin-bottom:20px;padding:12px 16px;background:var(--bg-2);border-radius:var(--radius-sm);border-left:3px solid var(--primary)}
.cap-comp-name{font-size:13px;font-weight:700;color:var(--primary-light)}
.cap-weakness{font-size:12px;color:var(--text2);flex:1}
.cap-responses{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}
.cap-response-item{padding:16px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);transition:.2s}
.cap-response-item:hover{border-color:var(--primary);box-shadow:0 0 12px rgba(99,102,241,.06)}
.cap-response-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.cap-response-label{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em}
.cap-copy-btn{padding:4px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:11px;font-weight:600;cursor:pointer;transition:.2s}
.cap-copy-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.cap-response-text{font-size:13px;color:var(--text2);line-height:1.6;white-space:pre-wrap}
.cap-actions{display:flex;gap:8px;justify-content:flex-end;padding-top:16px;border-top:1px solid var(--border)}
.cap-btn{padding:8px 20px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);font-size:13px;font-weight:600;cursor:pointer;transition:.2s}
.cap-btn.save{border-color:var(--primary);color:var(--primary-light)}
.cap-btn.save:hover{background:rgba(99,102,241,.1)}
.cap-btn.used{border-color:var(--success);color:var(--success)}
.cap-btn.used:hover{background:rgba(16,185,129,.1)}

/* Expandable opportunity actions */
.opp-expand-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s;margin-top:4px}
.opp-expand-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.opp-expand-btn .expand-arrow{transition:transform .3s ease;font-size:10px}
.opp-expand-btn.expanded .expand-arrow{transform:rotate(180deg)}
.opp-actions-wrap{overflow:hidden;max-height:0;transition:max-height .4s ease,margin .3s ease;margin-top:0}
.opp-actions-wrap.expanded{max-height:500px;margin-top:12px}

/* Marketing response copy buttons */
.mkt-response-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.mkt-copy-btn{padding:3px 10px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text3);font-size:10px;font-weight:600;cursor:pointer;transition:.2s}
.mkt-copy-btn:hover{border-color:var(--primary);color:var(--primary-light)}

/* ── Trend Alerts ── */
.trend-alerts-summary{padding:12px 16px;margin-bottom:16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);display:flex;align-items:center;gap:8px}
.ta-count{font-size:14px;font-weight:700;color:var(--text1)}
.trend-alert-card{display:flex;gap:14px;padding:16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:10px;transition:transform .2s,border-color .2s}
.trend-alert-card:hover{transform:translateX(4px)}
.trend-alert-card.critical{border-left:4px solid var(--danger)}
.trend-alert-card.warning{border-left:4px solid var(--warning)}
.trend-alert-card.info{border-left:4px solid var(--primary)}
.ta-icon{font-size:22px;flex-shrink:0;width:32px;text-align:center}
.ta-content{flex:1;min-width:0}
.ta-header{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;margin-bottom:4px}
.ta-title{font-size:14px;font-weight:700;color:var(--text1);line-height:1.4}
.ta-severity{padding:2px 10px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.03em}
.ta-severity.critical{background:rgba(239,68,68,.15);color:var(--danger)}
.ta-severity.warning{background:rgba(245,158,11,.15);color:var(--warning)}
.ta-severity.info{background:rgba(99,102,241,.15);color:var(--primary-light)}
.ta-desc{font-size:13px;color:var(--text2);line-height:1.5;margin-bottom:6px}
.ta-meta{display:flex;gap:12px;font-size:11px;color:var(--text3)}
.ta-competitor{font-weight:600}
.ta-type{text-transform:capitalize}

/* ── Response Analysis ── */
.ra-own-card{padding:24px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:20px;position:relative;overflow:hidden}
.ra-own-card::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent))}
.ra-own-card h3{font-size:16px;font-weight:800;margin-bottom:16px}
.ra-metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}
.ra-metric{text-align:center;padding:16px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.ra-metric-value{font-size:28px;font-weight:900;color:var(--primary-light);margin-bottom:4px}
.ra-metric-value.good{color:var(--success)}
.ra-metric-value.needs-work{color:var(--warning)}
.ra-metric-label{font-size:12px;font-weight:600;color:var(--text2);margin-bottom:2px}
.ra-metric-sub{font-size:11px;color:var(--text3)}
.ra-comparison{padding:24px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:20px}
.ra-comparison h3{font-size:16px;font-weight:800;margin-bottom:16px}
.ra-comp-list{display:flex;flex-direction:column;gap:10px}
.ra-comp-row{display:flex;align-items:center;gap:12px;padding:8px 0}
.ra-comp-row.own{border-top:2px solid var(--primary);padding-top:12px;margin-top:4px}
.ra-comp-name{font-size:13px;font-weight:600;width:160px;flex-shrink:0;color:var(--text2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ra-comp-row.own .ra-comp-name{color:var(--primary-light);font-weight:700}
.ra-comp-bar-wrap{flex:1;height:10px;background:var(--bg-3);border-radius:5px;overflow:hidden}
.ra-comp-bar{height:100%;border-radius:5px;background:var(--text3);transition:width .6s ease}
.ra-comp-bar.own{background:linear-gradient(90deg,var(--primary),var(--accent))}
.ra-comp-rate{font-size:13px;font-weight:700;width:50px;text-align:right;color:var(--text2)}
.ra-tips{padding:24px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.ra-tips h3{font-size:16px;font-weight:800;margin-bottom:16px}
.ra-tip{display:flex;align-items:flex-start;gap:12px;padding:12px 16px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:8px;border-left:3px solid var(--border)}
.ra-tip.high{border-left-color:var(--danger)}
.ra-tip.medium{border-left-color:var(--warning)}
.ra-tip.low{border-left-color:var(--primary)}
.ra-tip-icon{font-size:18px;flex-shrink:0}
.ra-tip-text{font-size:13px;color:var(--text2);line-height:1.5}

/* ── Competitive Advantages ── */
.adv-summary{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:24px}
.adv-summary-item{text-align:center;padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.adv-summary-item.ahead{border-bottom:3px solid var(--success)}
.adv-summary-item.even{border-bottom:3px solid var(--warning)}
.adv-summary-item.behind{border-bottom:3px solid var(--danger)}
.adv-summary-num{font-size:32px;font-weight:900;margin-bottom:4px}
.adv-summary-item.ahead .adv-summary-num{color:var(--success)}
.adv-summary-item.even .adv-summary-num{color:var(--warning)}
.adv-summary-item.behind .adv-summary-num{color:var(--danger)}
.adv-summary-label{font-size:12px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.03em}
.adv-cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:16px}
.adv-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);transition:transform .2s}
.adv-card:hover{transform:translateY(-2px)}
.adv-card.ahead{border-top:3px solid var(--success)}
.adv-card.behind{border-top:3px solid var(--danger)}
.adv-card.even{border-top:3px solid var(--warning)}
.adv-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.adv-comp-name{font-size:15px;font-weight:800}
.adv-position{padding:3px 10px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.03em}
.adv-position.ahead{background:rgba(16,185,129,.15);color:var(--success)}
.adv-position.behind{background:rgba(239,68,68,.15);color:var(--danger)}
.adv-position.even{background:rgba(245,158,11,.15);color:var(--warning)}
.adv-section{margin-bottom:12px}
.adv-section-label{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.03em;margin-bottom:6px}
.adv-metric{display:flex;align-items:center;gap:10px;padding:6px 10px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:4px;font-size:12px}
.adv-metric.win .adv-metric-gap{color:var(--success);font-weight:700}
.adv-metric.loss .adv-metric-gap{color:var(--danger);font-weight:700}
.adv-metric-name{font-weight:600;color:var(--text2);width:110px;flex-shrink:0}
.adv-metric-detail{color:var(--text3);font-size:11px;margin-left:auto}
.adv-tags{display:flex;flex-wrap:wrap;gap:6px}
.adv-advice{border-top:1px solid var(--border);padding-top:10px;margin-top:8px}
.adv-advice-item{padding:4px 0;font-size:12px;color:var(--text2);line-height:1.5;display:flex;align-items:flex-start;gap:8px}
.adv-advice-item::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--primary);flex-shrink:0;margin-top:5px}

/* ── Goals & Strategy ── */
.goals-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px;margin-bottom:24px}
.goal-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);transition:transform .2s}
.goal-card:hover{transform:translateY(-2px)}
.goal-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.goal-card-title{font-size:14px;font-weight:700}
.goal-pacing{padding:3px 10px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.03em}
.goal-pacing.on_track{background:rgba(16,185,129,.15);color:var(--success)}
.goal-pacing.behind{background:rgba(245,158,11,.15);color:var(--warning)}
.goal-pacing.at_risk{background:rgba(239,68,68,.15);color:var(--danger)}
.goal-value{font-size:24px;font-weight:800;margin-bottom:4px}
.goal-value .goal-target{font-size:14px;font-weight:500;color:var(--text3)}
.goal-progress{margin:12px 0}
.goal-progress-bar{height:8px;background:var(--bg-3);border-radius:4px;overflow:hidden}
.goal-progress-fill{height:100%;border-radius:4px;transition:width .6s ease}
.goal-progress-fill.on_track{background:linear-gradient(90deg,var(--success),#34d399)}
.goal-progress-fill.behind{background:linear-gradient(90deg,var(--warning),#fbbf24)}
.goal-progress-fill.at_risk{background:linear-gradient(90deg,var(--danger),#f87171)}
.goal-stats{display:flex;justify-content:space-between;gap:8px}
.goal-stat{font-size:12px;color:var(--text3)}
.goal-stat strong{color:var(--text);font-weight:700}
.strategy-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:12px;transition:.2s}
.strategy-card:hover{border-color:var(--primary)}
.strategy-quarter{font-size:12px;font-weight:700;color:var(--primary-light);text-transform:uppercase;letter-spacing:.04em;margin-bottom:4px}
.strategy-title{font-size:16px;font-weight:700;margin-bottom:12px}
.strategy-section{margin-bottom:12px}
.strategy-section-label{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:6px}
.strategy-list{list-style:none;padding:0}
.strategy-list li{padding:6px 0;font-size:13px;color:var(--text2);display:flex;align-items:flex-start;gap:8px}
.strategy-list li::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--primary);flex-shrink:0;margin-top:6px}
.strategy-status{display:inline-block;padding:2px 8px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;margin-left:8px}
.strategy-status.active{background:rgba(99,102,241,.15);color:var(--primary-light)}
.strategy-status.completed{background:rgba(16,185,129,.15);color:var(--success)}
.goal-status{display:inline-block;padding:2px 8px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase}
.goal-status.met{background:rgba(16,185,129,.15);color:var(--success)}
.goal-status.missed{background:rgba(239,68,68,.15);color:var(--danger)}
.goal-status.active{background:rgba(99,102,241,.15);color:var(--primary-light)}
.progress-mini{display:flex;align-items:center;gap:8px}
.progress-mini-bar{flex:1;height:6px;background:var(--bg-3);border-radius:3px;overflow:hidden;min-width:60px}
.progress-mini-fill{height:100%;border-radius:3px;background:var(--primary)}
.progress-mini-pct{font-size:11px;font-weight:700;color:var(--text2);min-width:38px;text-align:right}
.progress-mini-pct.overperforming{color:var(--success)}
.progress-mini-pct.underperforming{color:var(--danger)}
.progress-mini-fill.overperforming{background:var(--success)}
.progress-mini-fill.underperforming{background:var(--danger)}
.progress-over-label{font-size:10px;font-weight:600;color:var(--success);white-space:nowrap;margin-left:4px}

/* ── Marketing Content Engine ── */
.mke-tabs{display:flex;gap:4px;margin-bottom:20px;overflow-x:auto;padding-bottom:4px}
.mke-tab{padding:8px 16px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:13px;font-weight:600;cursor:pointer;transition:.2s;white-space:nowrap}
.mke-tab:hover{border-color:var(--primary);color:var(--primary-light)}
.mke-tab.active{background:rgba(99,102,241,.15);border-color:var(--primary);color:var(--primary-light);box-shadow:0 0 8px rgba(99,102,241,.15)}
.mke-panel{display:none}
.mke-panel.active{display:block}
.mke-panel-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px;gap:16px;flex-wrap:wrap}
.mke-panel-title{font-size:18px;font-weight:800;margin-bottom:4px}
.mke-panel-sub{font-size:13px;color:var(--text3);max-width:600px}
.mke-panel-actions{display:flex;gap:8px;flex-shrink:0}
.mke-btn{padding:8px 18px;border-radius:var(--radius-sm);font-size:13px;font-weight:600;cursor:pointer;transition:.2s;border:1px solid var(--border)}
.mke-btn.primary{background:var(--primary);border-color:var(--primary);color:#fff}
.mke-btn.primary:hover{background:var(--primary-dark)}
.mke-btn.primary:disabled{opacity:.5;cursor:not-allowed}
.mke-btn.outline{background:var(--surface);color:var(--text2)}
.mke-btn.outline:hover{border-color:var(--primary);color:var(--primary-light)}

/* Calendar */
.mke-calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.mke-cal-day{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;min-height:180px}
.mke-cal-day.today{border-color:var(--primary);box-shadow:0 0 12px rgba(99,102,241,.1)}
.mke-cal-day-header{padding:10px 12px;background:var(--bg-2);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.mke-cal-day-name{font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.04em}
.mke-cal-day.today .mke-cal-day-name{color:var(--primary-light)}
.mke-cal-day-date{font-size:11px;color:var(--text3)}
.mke-cal-posts{padding:8px;display:flex;flex-direction:column;gap:8px}
.mke-cal-post{padding:10px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid transparent;transition:.2s}
.mke-cal-post:hover{border-color:var(--primary)}
.mke-cal-post-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.mke-platform-badge{display:inline-flex;align-items:center;gap:4px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.03em}
.mke-cal-time{font-size:10px;color:var(--text3);font-weight:600}
.mke-cal-post-content{font-size:11px;color:var(--text2);line-height:1.5;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}
.mke-copy-btn{padding:4px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:11px;font-weight:600;cursor:pointer;transition:.2s;margin-top:6px}
.mke-copy-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.mke-copy-btn.secondary{border-color:var(--border-light);color:var(--text3)}
.mke-copy-btn.secondary:hover{border-color:var(--accent);color:var(--accent)}

/* Social Posts */
.mke-social-filters{display:flex;gap:6px;margin-bottom:16px;flex-wrap:wrap}
.mke-filter-btn{padding:6px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.mke-filter-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.mke-filter-btn.active{background:rgba(99,102,241,.15);border-color:var(--primary);color:var(--primary-light)}
.mke-social-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:16px}
.mke-social-card{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);transition:.2s}
.mke-social-card:hover{border-color:var(--primary);transform:translateY(-2px)}
.mke-social-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.mke-category-badge{padding:3px 10px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.03em;background:rgba(99,102,241,.1);color:var(--primary-light)}
.mke-social-caption{font-size:13px;color:var(--text);line-height:1.6;margin-bottom:12px;white-space:pre-wrap}
.mke-social-meta{display:flex;gap:16px;margin-bottom:8px}
.mke-meta-item{font-size:11px;color:var(--text3)}
.mke-meta-item strong{color:var(--text2)}
.mke-social-hashtags{font-size:11px;color:var(--accent);margin-bottom:12px;line-height:1.6}
.mke-social-actions{display:flex;gap:8px}

/* Email Campaigns */
.mke-email-list{display:flex;flex-direction:column;gap:20px}
.mke-email-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;transition:.2s}
.mke-email-card:hover{border-color:var(--primary)}
.mke-email-header{padding:20px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:flex-start;gap:16px;flex-wrap:wrap}
.mke-email-name{font-size:16px;font-weight:700;margin-bottom:4px}
.mke-email-target{font-size:12px;color:var(--text3)}
.mke-email-stats{display:flex;gap:16px;flex-shrink:0}
.mke-email-stat{font-size:12px;color:var(--text3);display:flex;flex-direction:column;text-align:center}
.mke-email-stat strong{font-size:14px;color:var(--text);font-weight:700}
.mke-email-preview{padding:20px}
.mke-email-subject-row{margin-bottom:8px;display:flex;gap:8px;align-items:flex-start}
.mke-email-label{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;flex-shrink:0;margin-top:2px}
.mke-email-subject{font-size:14px;font-weight:600;color:var(--text)}
.mke-email-preview-text{font-size:12px;color:var(--text3);margin-bottom:16px;display:flex;gap:8px}
.mke-email-body-wrap{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:20px;max-height:300px;overflow-y:auto}
.mke-email-body{font-size:13px;color:var(--text2);line-height:1.7;white-space:pre-wrap}
.mke-email-actions{padding:16px 20px;border-top:1px solid var(--border);display:flex;gap:8px;justify-content:flex-end}

/* Promotions */
.mke-promo-list{display:flex;flex-direction:column;gap:20px}
.mke-promo-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;transition:.2s}
.mke-promo-card:hover{border-color:var(--primary)}
.mke-promo-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.mke-promo-name{font-size:16px;font-weight:700}
.mke-promo-desc{font-size:13px;color:var(--text2);line-height:1.6;margin-bottom:16px;padding:12px 16px;background:var(--bg-2);border-radius:var(--radius-sm);border-left:3px solid var(--primary)}
.mke-promo-details{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:16px}
.mke-promo-detail{padding:12px;background:var(--bg-2);border-radius:var(--radius-sm);font-size:13px;color:var(--text2)}
.mke-promo-detail-label{display:block;font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:4px}
.mke-promo-steps{margin-bottom:16px}
.mke-promo-steps-label{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:8px}
.mke-promo-steps-list{padding-left:20px;display:flex;flex-direction:column;gap:4px}
.mke-promo-steps-list li{font-size:12px;color:var(--text2);line-height:1.6}
.mke-promo-social{padding:16px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm)}
.mke-promo-social-label{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:8px}
.mke-promo-social-text{font-size:13px;color:var(--text2);line-height:1.6;margin-bottom:8px}

/* Performance */
.mke-perf-breakdown{display:flex;flex-direction:column;gap:2px}
.mke-perf-row{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;font-size:13px;color:var(--text2);border-radius:var(--radius-sm);transition:.15s}
.mke-perf-row:hover{background:var(--bg-2)}
.mke-perf-row.total{border-top:1px solid var(--border);margin-top:4px;padding-top:14px;font-weight:600;color:var(--text)}
.mke-stat-new{color:var(--accent)}
.mke-stat-saved{color:var(--primary-light)}
.mke-stat-used{color:var(--success)}
.mke-impact-card{padding:24px;background:linear-gradient(135deg,rgba(99,102,241,.06),rgba(6,182,212,.04));border:1px solid rgba(99,102,241,.2);border-radius:var(--radius-sm)}
.mke-impact-text{font-size:14px;color:var(--text2);line-height:1.7;margin-bottom:12px}
.mke-impact-text strong{color:var(--success);font-weight:700}
.mke-impact-tip{font-size:12px;color:var(--text3);padding:10px 14px;background:var(--bg-2);border-radius:var(--radius-sm);line-height:1.5}
.mke-cta-card{display:flex;align-items:center;gap:20px;padding:20px;background:linear-gradient(135deg,rgba(225,48,108,.06),rgba(99,102,241,.06));border:1px solid rgba(225,48,108,.2);border-radius:var(--radius-sm)}
.mke-cta-icon{color:var(--danger);flex-shrink:0}
.mke-cta-content{flex:1}
.mke-cta-title{font-size:15px;font-weight:700;margin-bottom:4px}
.mke-cta-desc{font-size:12px;color:var(--text3);line-height:1.5}

/* ── Responsive ── */
@media(max-width:1024px){
  .kpi-grid{grid-template-columns:repeat(2,1fr)}
  .chart-row{grid-template-columns:1fr}
  .grid-2{grid-template-columns:1fr}
  .opp-actions{grid-template-columns:1fr}
  .mkt-responses{grid-template-columns:1fr}
  .sentiment-grid{grid-template-columns:1fr}
  .mke-calendar-grid{grid-template-columns:repeat(4,1fr)}
  .mke-promo-details{grid-template-columns:1fr}
  .mke-social-grid{grid-template-columns:1fr}
  .mke-cta-card{flex-direction:column;text-align:center}
}
@media(max-width:768px){
  .sidebar{transform:translateX(-100%)}
  .sidebar.open{transform:translateX(0)}
  .main{margin-left:0}
  .mobile-toggle{display:flex}
  .kpi-grid.small{grid-template-columns:repeat(2,1fr)}
  .mke-calendar-grid{grid-template-columns:1fr 1fr}
  .mke-panel-header{flex-direction:column}
}

/* ── Trial Banner ── */
.trial-banner{display:flex;align-items:center;justify-content:space-between;padding:10px 24px;background:linear-gradient(90deg,rgba(245,158,11,.12),rgba(239,68,68,.08));border-bottom:1px solid rgba(245,158,11,.2)}
.trial-banner-left{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--warning)}
.trial-banner-left strong{color:var(--text);font-weight:700}
.trial-banner-btn{padding:6px 16px;border-radius:6px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;font-size:13px;font-weight:700;text-decoration:none;transition:.2s}
.trial-banner-btn:hover{box-shadow:0 2px 12px rgba(99,102,241,.4);transform:translateY(-1px)}

/* ── Welcome Banner ── */
.welcome-banner{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;margin:16px 24px 0;background:linear-gradient(135deg,rgba(99,102,241,.08),rgba(6,182,212,.08));border:1px solid rgba(99,102,241,.2);border-radius:var(--radius);animation:welcomeIn .5s ease-out}
.welcome-banner-content{display:flex;align-items:center;gap:14px}
.welcome-emoji{font-size:28px}
.welcome-title{font-size:16px;font-weight:700;margin-bottom:2px}
.welcome-sub{font-size:13px;color:var(--text2)}
.welcome-dismiss{background:none;border:none;color:var(--text3);font-size:22px;cursor:pointer;padding:4px 8px;border-radius:4px;transition:.2s}
.welcome-dismiss:hover{color:var(--text);background:var(--bg-2)}
@keyframes welcomeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}

/* ── Empty States ── */
.empty-state-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:48px 32px;text-align:center}
.empty-state-card .empty-icon{margin:0 auto 16px;width:56px;height:56px;border-radius:50%;background:var(--bg-2);display:flex;align-items:center;justify-content:center;color:var(--text3)}
.empty-state-card .empty-title{font-size:16px;font-weight:700;margin-bottom:6px}
.empty-state-card .empty-desc{font-size:14px;color:var(--text2);max-width:440px;margin:0 auto;line-height:1.6}
.empty-state-card .empty-action{margin-top:16px}
.empty-state-card .empty-action a{display:inline-flex;align-items:center;gap:6px;padding:8px 20px;border-radius:var(--radius-sm);background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;font-size:13px;font-weight:700;text-decoration:none;transition:.2s}
.empty-state-card .empty-action a:hover{box-shadow:0 2px 12px rgba(99,102,241,.4);transform:translateY(-1px)}
.empty-state-inline{padding:24px;text-align:center;color:var(--text3);font-size:14px}
.comp-gathering{background:rgba(245,158,11,.06);border:1px solid rgba(245,158,11,.15);border-radius:var(--radius);padding:16px 20px;margin-bottom:16px;display:flex;align-items:center;gap:12px;font-size:14px;color:var(--warning)}
.comp-gathering svg{flex-shrink:0}

/* ── Sidebar Upgrade Link ── */
.sidebar-upgrade-link{display:flex;align-items:center;gap:8px;padding:10px 14px;margin-bottom:12px;border:1px solid rgba(99,102,241,.25);border-radius:var(--radius-sm);background:linear-gradient(135deg,rgba(99,102,241,.08),rgba(6,182,212,.05));color:var(--primary-light);font-size:13px;font-weight:600;transition:.2s;text-decoration:none}
.sidebar-upgrade-link:hover{background:linear-gradient(135deg,rgba(99,102,241,.15),rgba(6,182,212,.08));border-color:var(--primary);transform:translateY(-1px)}
.sidebar-upgrade-link svg{color:var(--warning)}

/* ── Notification Bell ── */
.notif-bell-wrap{position:relative}
.notif-bell-btn{background:none;border:1px solid var(--border);border-radius:var(--radius-sm);width:34px;height:34px;display:flex;align-items:center;justify-content:center;color:var(--text2);cursor:pointer;transition:.2s;position:relative}
.notif-bell-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.notif-badge{position:absolute;top:-4px;right:-4px;background:var(--danger);color:#fff;font-size:10px;font-weight:700;padding:1px 5px;border-radius:50px;min-width:16px;text-align:center;line-height:14px}
.notif-dropdown{position:absolute;top:calc(100% + 8px);right:0;width:360px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 10px 40px rgba(0,0,0,.3);z-index:150;display:none;opacity:0;transform:translateY(-8px)}
.notif-dropdown.show{display:block;animation:notifSlide .2s ease forwards}
@keyframes notifSlide{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
.notif-dropdown-header{padding:14px 16px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.notif-dropdown-title{font-size:14px;font-weight:700}
.notif-mark-all{background:none;border:none;color:var(--primary-light);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.notif-mark-all:hover{color:var(--primary)}
.notif-dropdown-body{max-height:380px;overflow-y:auto}
.notif-item{display:flex;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border);transition:.15s;cursor:default}
.notif-item:hover{background:var(--bg-2)}
.notif-item.unread{background:rgba(99,102,241,.04)}
.notif-item-icon{font-size:18px;flex-shrink:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--bg-2)}
.notif-item-content{flex:1;min-width:0}
.notif-item-title{font-size:13px;font-weight:600;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.notif-item-msg{font-size:12px;color:var(--text3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.notif-item-time{font-size:11px;color:var(--text3);flex-shrink:0;margin-top:2px}
.notif-dropdown-footer{padding:10px 16px;border-top:1px solid var(--border);text-align:center}
.notif-dropdown-footer a{font-size:13px;font-weight:600;color:var(--primary-light);text-decoration:none;transition:.2s}
.notif-dropdown-footer a:hover{color:var(--primary)}

/* ── Daily Briefing ── */
.briefing-hero{padding:32px 0 24px;text-align:center}
.briefing-greeting{font-size:28px;font-weight:900;margin-bottom:4px;background:linear-gradient(135deg,var(--primary-light),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.briefing-date{font-size:14px;color:var(--text3)}
.briefing-section{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:16px}
.briefing-section-title{display:flex;align-items:center;gap:8px;font-size:15px;font-weight:700;margin-bottom:16px;color:var(--text)}
.briefing-section-title svg{color:var(--primary-light)}
.briefing-numbers{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.briefing-num-card{padding:16px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.briefing-num-label{font-size:11px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:6px}
.briefing-num-value{font-size:24px;font-weight:800;letter-spacing:-.02em}
.briefing-num-change{font-size:12px;font-weight:600;margin-top:4px}
.briefing-num-change.up{color:var(--success)}
.briefing-num-change.down{color:var(--danger)}
.briefing-num-sub{font-size:11px;color:var(--text3);margin-top:4px}
.briefing-goal-bar{height:6px;background:var(--bg-3);border-radius:3px;overflow:hidden;margin-top:8px}
.briefing-goal-fill{height:100%;border-radius:3px;background:linear-gradient(90deg,var(--primary),var(--accent));transition:width .6s ease}
.briefing-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.briefing-todos{display:flex;flex-direction:column;gap:8px}
.briefing-todo{display:flex;gap:14px;padding:14px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border);transition:.2s}
.briefing-todo:hover{border-color:var(--primary);transform:translateX(4px)}
.briefing-todo-priority{width:6px;border-radius:3px;flex-shrink:0}
.briefing-todo-priority.high{background:var(--danger)}
.briefing-todo-priority.medium{background:var(--warning)}
.briefing-todo-priority.low{background:var(--success)}
.briefing-todo-content{flex:1;min-width:0}
.briefing-todo-title{font-size:14px;font-weight:700;margin-bottom:2px}
.briefing-todo-desc{font-size:12px;color:var(--text2);line-height:1.5;margin-bottom:6px}
.briefing-todo-meta{display:flex;align-items:center;gap:10px}
.briefing-todo-impact{font-size:11px;font-weight:600;padding:2px 8px;border-radius:50px;background:rgba(99,102,241,.1);color:var(--primary-light)}
.briefing-todo-link{font-size:12px;font-weight:600;color:var(--primary-light);cursor:pointer;transition:.2s;background:none;border:1px solid var(--primary);border-radius:var(--radius-sm);padding:4px 12px}
.briefing-todo-link:hover{background:rgba(99,102,241,.1)}
.briefing-comp-list{display:flex;flex-direction:column;gap:8px}
.briefing-comp-item{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.briefing-comp-name{font-size:13px;font-weight:600}
.briefing-comp-stats{display:flex;gap:12px;font-size:12px;color:var(--text3)}
.briefing-comp-stats .neg{color:var(--danger);font-weight:600}
.briefing-pulse{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.briefing-pulse-item{padding:14px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border);text-align:center}
.briefing-pulse-value{font-size:22px;font-weight:800;margin-bottom:2px}
.briefing-pulse-label{font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:.04em}
.briefing-pulse-item.atrisk .briefing-pulse-value{color:var(--warning)}
.briefing-pulse-item.vip .briefing-pulse-value{color:var(--primary-light)}
.briefing-marketing-card{padding:16px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.briefing-mkt-title{font-size:14px;font-weight:700;margin-bottom:6px;display:flex;align-items:center;gap:8px}
.briefing-mkt-platform{font-size:10px;font-weight:700;padding:2px 8px;border-radius:50px;text-transform:uppercase;background:rgba(99,102,241,.1);color:var(--primary-light)}
.briefing-mkt-content{font-size:13px;color:var(--text2);line-height:1.6;margin-bottom:10px}
.briefing-mkt-copy{padding:6px 16px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.briefing-mkt-copy:hover{border-color:var(--primary);color:var(--primary-light)}

/* ── Content Predictor ── */
.predictor-wrap{max-width:800px}
.predictor-textarea{width:100%;min-height:120px;padding:14px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text);font-family:inherit;font-size:14px;line-height:1.6;resize:vertical}
.predictor-textarea:focus{outline:none;border-color:var(--primary)}
.predictor-controls{display:flex;gap:10px;margin-top:10px;align-items:center}
.predictor-controls select{padding:8px 12px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text);font-size:13px}
.predictor-results{margin-top:20px}
.pred-score-wrap{display:flex;gap:24px;align-items:center;padding:24px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:16px}
.pred-score-circle{width:100px;height:100px;border:4px solid;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0}
.pred-score-num{font-size:32px;font-weight:900;line-height:1}
.pred-score-label{font-size:11px;font-weight:600;margin-top:2px}
.pred-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;flex:1}
.pred-stat{padding:10px;background:var(--bg-2);border-radius:var(--radius-sm);text-align:center}
.pred-stat span{display:block;font-size:11px;color:var(--text3);margin-bottom:2px}
.pred-stat strong{font-size:16px;font-weight:700}
.pred-factors{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:16px}
.pred-factors h4{font-size:14px;font-weight:700;margin-bottom:12px}
.pred-factor{display:flex;align-items:center;gap:10px;padding:6px 10px;border-radius:var(--radius-sm);margin-bottom:4px;font-size:13px;color:var(--text2)}
.pred-factor.positive{background:rgba(16,185,129,.08)}
.pred-factor.negative{background:rgba(239,68,68,.08)}
.pred-factor-impact{font-weight:700;width:40px;flex-shrink:0;text-align:center;font-size:12px}
.pred-factor.positive .pred-factor-impact{color:var(--success)}
.pred-factor.negative .pred-factor-impact{color:var(--danger)}
.pred-suggestions{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.pred-suggestions h4{font-size:14px;font-weight:700;margin-bottom:12px}
.pred-suggestion{padding:8px 12px;border-left:3px solid var(--warning);background:var(--bg-2);border-radius:0 var(--radius-sm) var(--radius-sm) 0;margin-bottom:6px;font-size:13px;color:var(--text2)}

/* ── Hashtag Generator ── */
.hashtag-wrap{max-width:800px}
.hashtag-topic-row{display:flex;gap:10px;margin-bottom:20px}
.hashtag-input{flex:1;padding:10px 14px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text);font-size:14px}
.hashtag-input:focus{outline:none;border-color:var(--primary)}
.ht-recommended{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:16px}
.ht-recommended h4{font-size:14px;font-weight:700;margin-bottom:12px}
.ht-copy-row{display:flex;align-items:flex-start;gap:12px}
.ht-tags{display:flex;flex-wrap:wrap;gap:6px;flex:1}
.ht-tag{padding:4px 12px;background:rgba(99,102,241,.12);color:var(--primary-light);border-radius:50px;font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.ht-tag:hover{background:rgba(99,102,241,.25)}
.ht-copy-btn{flex-shrink:0}
.ht-sets{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px;margin-bottom:16px}
.ht-set{padding:16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.ht-set-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.ht-set-name{font-size:12px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.03em}
.ht-set-copy{padding:2px 10px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text3);font-size:10px;font-weight:600;cursor:pointer;transition:.2s}
.ht-set-copy:hover{border-color:var(--primary);color:var(--primary-light)}
.ht-tip{padding:14px 16px;background:var(--bg-2);border-radius:var(--radius-sm);font-size:13px;color:var(--text3);border-left:3px solid var(--primary)}

/* ── Weekly Marketing Report ── */
.mwr-header{padding:28px;background:linear-gradient(135deg,rgba(99,102,241,.1),rgba(6,182,212,.06));border:1px solid rgba(99,102,241,.3);border-radius:var(--radius);margin-bottom:20px;text-align:center}
.mwr-header h2{font-size:22px;font-weight:900;margin-bottom:4px;background:linear-gradient(135deg,var(--primary-light),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.mwr-period{font-size:13px;color:var(--text3)}
.mwr-kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-bottom:20px}
.mwr-kpi{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);text-align:center}
.mwr-kpi-value{font-size:24px;font-weight:900;color:var(--text);margin-bottom:4px}
.mwr-kpi-label{font-size:12px;color:var(--text3);font-weight:600;margin-bottom:4px}
.mwr-kpi-change{font-size:11px;font-weight:700}
.mwr-kpi-change.up{color:var(--success)}
.mwr-kpi-change.down{color:var(--danger)}
.mwr-section{padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:16px}
.mwr-section h3{font-size:15px;font-weight:700;margin-bottom:14px;padding-bottom:10px;border-bottom:1px solid var(--border)}
.mwr-product-row{display:flex;align-items:center;gap:10px;padding:8px 12px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:6px}
.mwr-rank{font-size:12px;font-weight:800;color:var(--primary-light);width:24px}
.mwr-product-name{flex:1;font-size:13px;font-weight:600}
.mwr-product-units{font-size:12px;color:var(--text3)}
.mwr-product-rev{font-size:13px;font-weight:700;color:var(--success)}
.mwr-rec{display:flex;align-items:flex-start;gap:10px;padding:12px 16px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:8px;border-left:3px solid var(--border)}
.mwr-rec.high{border-left-color:var(--danger)}
.mwr-rec.medium{border-left-color:var(--warning)}
.mwr-rec.low{border-left-color:var(--primary)}
.mwr-rec-icon{font-size:18px;flex-shrink:0}
.mwr-rec-text{font-size:13px;color:var(--text2);line-height:1.5}

/* ── Email Template Builder ── */
.email-builder-wrap{max-width:800px}
.eb-controls{display:flex;gap:10px;margin-bottom:20px;align-items:center;flex-wrap:wrap}
.eb-controls select{padding:8px 12px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text);font-size:13px}
.eb-input{width:80px;padding:8px 12px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text);font-size:13px;text-align:center}
.eb-template{padding:24px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.eb-template-header{margin-bottom:20px;padding-bottom:14px;border-bottom:1px solid var(--border)}
.eb-template-header h4{font-size:16px;font-weight:800;margin-bottom:6px}
.eb-meta{display:flex;gap:16px}
.eb-meta-item{font-size:12px;color:var(--text3)}
.eb-field{margin-bottom:16px;position:relative}
.eb-field label{display:block;font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.03em;margin-bottom:6px}
.eb-field-value{padding:14px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;color:var(--text2);line-height:1.6;white-space:pre-wrap}
.eb-body{max-height:400px;overflow-y:auto}
.eb-copy{position:absolute;top:0;right:0;padding:4px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text3);font-size:10px;font-weight:600;cursor:pointer;transition:.2s}
.eb-copy:hover{border-color:var(--primary);color:var(--primary-light)}

/* ── Win-Back Campaigns ── */
.wb-overview-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:16px}
.wb-metric-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;text-align:center;transition:.2s}
.wb-metric-card:hover{transform:translateY(-2px)}
.wb-metric-icon{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 10px}
.wb-metric-icon.active-icon{background:rgba(16,185,129,.12);color:var(--success)}
.wb-metric-icon.atrisk-icon{background:rgba(245,158,11,.12);color:var(--warning)}
.wb-metric-icon.lost-icon{background:rgba(239,68,68,.12);color:var(--danger)}
.wb-metric-icon.wonback-icon{background:rgba(99,102,241,.12);color:var(--primary-light)}
.wb-metric-value{font-size:28px;font-weight:800;margin-bottom:2px}
.wb-metric-label{font-size:12px;color:var(--text3);font-weight:600;text-transform:uppercase;letter-spacing:.04em}
.wb-table-wrap{overflow-x:auto}
.wb-sort-select{padding:6px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface);color:var(--text);font-size:12px;cursor:pointer}
.wb-templates{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.wb-template-card{padding:20px;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);transition:.2s}
.wb-template-card:hover{border-color:var(--primary);transform:translateY(-2px)}
.wb-template-emoji{font-size:28px;margin-bottom:10px}
.wb-template-name{font-size:15px;font-weight:700;margin-bottom:4px}
.wb-template-desc{font-size:12px;color:var(--text2);line-height:1.5;margin-bottom:12px}
.wb-template-meta{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}
.wb-template-tag{font-size:10px;font-weight:600;padding:3px 8px;border-radius:50px;background:var(--bg-3);color:var(--text3)}
.wb-template-tag.discount{background:rgba(16,185,129,.12);color:var(--success)}
.wb-template-preview{font-size:11px;color:var(--text3);padding:10px;background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border);line-height:1.5;max-height:80px;overflow:hidden;margin-bottom:10px}
.wb-template-btn{width:100%;padding:8px;border:1px solid var(--primary);border-radius:var(--radius-sm);background:rgba(99,102,241,.08);color:var(--primary-light);font-size:12px;font-weight:600;cursor:pointer;transition:.2s}
.wb-template-btn:hover{background:rgba(99,102,241,.15)}
.wb-automation{display:flex;flex-direction:column;gap:16px}
.wb-auto-toggle{display:flex;align-items:center;justify-content:space-between;padding:16px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.wb-auto-toggle-label{font-size:14px;font-weight:600}
.wb-auto-toggle-sub{font-size:12px;color:var(--text3);margin-top:2px}
.wb-auto-switch{width:44px;height:24px;border-radius:12px;background:var(--bg-3);cursor:pointer;position:relative;transition:.3s;border:1px solid var(--border)}
.wb-auto-switch.on{background:var(--primary)}
.wb-auto-switch::after{content:'';position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:#fff;transition:.3s}
.wb-auto-switch.on::after{left:22px}
.wb-auto-settings{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.wb-auto-setting{padding:14px;background:var(--bg-2);border-radius:var(--radius-sm);border:1px solid var(--border)}
.wb-auto-setting-label{font-size:11px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:6px}
.wb-auto-setting-value{font-size:18px;font-weight:700}
.wb-email-btn{padding:4px 12px;border:1px solid var(--primary);border-radius:var(--radius-sm);background:rgba(99,102,241,.08);color:var(--primary-light);font-size:11px;font-weight:600;cursor:pointer;transition:.2s;white-space:nowrap}
.wb-email-btn:hover{background:rgba(99,102,241,.15)}

@media(max-width:1024px){
  .briefing-numbers{grid-template-columns:repeat(2,1fr)}
  .briefing-grid-2{grid-template-columns:1fr}
  .briefing-pulse{grid-template-columns:1fr 1fr}
  .wb-overview-grid{grid-template-columns:repeat(2,1fr)}
  .wb-templates{grid-template-columns:1fr}
  .wb-auto-settings{grid-template-columns:1fr}
}
@media(max-width:768px){
  .sidebar{transform:translateX(-100%)}
  .sidebar.open{transform:translateX(0)}
  .main{margin-left:0}
  .mobile-toggle{display:flex}
  .topbar-center{display:none}
  .notif-dropdown{width:300px;right:-80px}
  .quick-stats-bar{gap:16px;padding:6px 16px;font-size:12px}
  .kpi-grid{grid-template-columns:repeat(2,1fr)}
  .chart-row{grid-template-columns:1fr}
  .grid-2{grid-template-columns:1fr}
  .last-updated{display:none}
  .breadcrumb{display:none}
  .prod-recs-grid{grid-template-columns:1fr}
  .be-metrics{grid-template-columns:repeat(2,1fr)}
  .be-scenarios{grid-template-columns:1fr}
}

/* ── Product Recommendations ── */
.prod-recs-summary{display:flex;align-items:center;gap:12px;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border)}
.prod-recs-count{font-size:15px;font-weight:700}
.prod-recs-types{font-size:12px;color:var(--text3)}
.prod-recs-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.prod-rec-card{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px;transition:border-color .2s}
.prod-rec-card:hover{border-color:var(--primary)}
.prod-rec-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.prod-rec-icon{font-size:18px}
.prod-rec-title{font-size:13px;font-weight:600;flex:1}
.prod-rec-priority{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.04em}
.prod-rec-desc{font-size:12px;color:var(--text2);line-height:1.5;margin-bottom:10px}
.prod-rec-footer{display:flex;align-items:center;justify-content:space-between;gap:8px}
.prod-rec-action{font-size:11px;font-weight:600;color:var(--primary-light);background:rgba(99,102,241,.08);padding:4px 10px;border-radius:20px}
.prod-rec-impact{font-size:11px;color:var(--success);font-weight:600}

/* ── Break-Even Analysis ── */
.be-status{padding:14px 18px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:16px}
.be-status-label{font-size:14px;font-weight:700;margin-bottom:4px}
.be-status-msg{font-size:12px;color:var(--text2);line-height:1.5}
.be-metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px}
.be-metric{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px;text-align:center}
.be-metric-label{display:block;font-size:11px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.04em;margin-bottom:6px}
.be-metric-value{display:block;font-size:18px;font-weight:700}
.be-scenarios-title{font-size:14px;font-weight:700;margin-bottom:12px}
.be-scenarios{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.be-scenario{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px}
.be-scenario-name{font-size:13px;font-weight:600;margin-bottom:8px}
.be-scenario-detail{font-size:12px;color:var(--text2);margin-bottom:4px}
.be-scenario-result{font-size:12px;font-weight:600;margin-top:8px;padding:6px 10px;border-radius:var(--radius-sm)}
.be-scenario-result.profitable{background:rgba(16,185,129,.1);color:var(--success)}
.be-scenario-result.unprofitable{background:rgba(239,68,68,.1);color:var(--danger)}

/* ── Weekly Digest Preview ── */
.digest-iframe-wrap{border:1px solid var(--border);border-radius:var(--radius-sm);overflow:hidden;margin-bottom:16px}
.digest-iframe{width:100%;min-height:600px;border:none;background:#f3f4f6}
.digest-actions{display:flex;gap:10px}

/* ── Quick Actions Bar ── */
.quick-actions{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px}
.qa-btn{background:var(--bg-2);border:1px solid var(--border);border-radius:24px;padding:8px 16px;font-size:13px;font-weight:500;cursor:pointer;transition:.2s;white-space:nowrap;color:var(--text)}
.qa-btn:hover{border-color:var(--primary);background:rgba(99,102,241,.08);color:var(--primary-light)}

/* ── Activity Feed ── */
.activity-feed{display:flex;flex-direction:column;gap:0}
.af-item{display:flex;align-items:flex-start;gap:12px;padding:12px 0;border-bottom:1px solid var(--border)}
.af-item:last-child{border-bottom:none}
.af-icon{font-size:18px;flex-shrink:0;width:28px;text-align:center;margin-top:2px}
.af-content{flex:1;min-width:0}
.af-desc{font-size:13px;font-weight:500;line-height:1.4}
.af-time{font-size:11px;color:var(--text3);margin-top:2px}

/* ── Customer Segments Donut ── */
.cs-wrap{display:flex;align-items:center;gap:32px;flex-wrap:wrap}
.cs-donut{width:160px;height:160px;border-radius:50%;position:relative;flex-shrink:0}
.cs-donut-hole{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90px;height:90px;border-radius:50%;background:var(--surface);display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:22px;font-weight:700;line-height:1.2}
.cs-donut-hole small{font-size:11px;font-weight:400;color:var(--text3)}
.cs-legend{display:flex;flex-direction:column;gap:10px;flex:1;min-width:200px}
.cs-legend-item{display:flex;align-items:center;gap:10px;font-size:13px}
.cs-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.cs-legend-label{font-weight:600;min-width:70px}
.cs-legend-count{color:var(--text2);min-width:40px;text-align:right}
.cs-legend-rev{color:var(--text3);font-size:12px}

/* ── Revenue Heatmap Calendar ── */
.hm-wrap{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px}
.hm-labels{display:flex;flex-direction:column;gap:2px;padding-top:2px}
.hm-label{font-size:10px;color:var(--text3);height:14px;line-height:14px}
.hm-grid{display:flex;gap:2px}
.hm-week{display:flex;flex-direction:column;gap:2px}
.hm-cell{width:14px;height:14px;border-radius:2px;cursor:default;transition:transform .1s}
.hm-cell:hover{transform:scale(1.4);z-index:1}
.hm-scale{display:flex;align-items:center;gap:4px;margin-top:10px;font-size:11px;color:var(--text3)}
.hm-cell-sm{width:12px;height:12px;border-radius:2px}

/* ── Product Performance Cards ── */
.pp-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px}
.pp-card{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px;transition:border-color .2s}
.pp-card:hover{border-color:var(--primary)}
.pp-header{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}
.pp-name{font-size:13px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}
.pp-badge{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.04em;border:1px solid;border-radius:12px;padding:2px 8px;white-space:nowrap}
.pp-revenue{font-size:20px;font-weight:700;margin-bottom:8px}
.pp-bar-wrap{height:4px;background:var(--bg-3);border-radius:2px;overflow:hidden;margin-bottom:8px}
.pp-bar{height:100%;border-radius:2px;transition:width .6s ease}
.pp-meta{display:flex;gap:12px;font-size:11px;color:var(--text3)}

/* ── Competitor Price Teaser ── */
.comp-price-teaser{margin-top:24px}
.coming-soon-badge{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;font-size:13px;font-weight:700;padding:8px 24px;border-radius:24px;letter-spacing:.03em}

/* ── Settings Page ── */
.settings-page{max-width:720px}
.settings-group{background:var(--bg-1);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:20px}
.settings-group-title{font-size:16px;font-weight:700;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border)}
.settings-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}
.settings-field{display:flex;flex-direction:column;gap:6px}
.settings-label{font-size:12px;font-weight:600;color:var(--text2);text-transform:uppercase;letter-spacing:.04em}
.settings-input{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:10px 14px;font-size:14px;color:var(--text);transition:border-color .2s;outline:none}
.settings-input:focus{border-color:var(--primary)}
.settings-toggles{display:flex;flex-wrap:wrap;gap:16px;margin-top:16px}
.settings-toggle{display:flex;align-items:center;gap:8px;font-size:13px;cursor:pointer}
.settings-toggle input{width:16px;height:16px;accent-color:var(--primary)}
.settings-actions{display:flex;align-items:center;gap:16px;margin-top:8px}
.btn-primary{background:var(--primary);color:#fff;border:none;border-radius:var(--radius-sm);padding:12px 28px;font-size:14px;font-weight:600;cursor:pointer;transition:.2s}
.btn-primary:hover{background:var(--primary-dark)}
.btn-primary:disabled{opacity:.6;cursor:not-allowed}
.settings-saved-msg{font-size:13px;color:var(--success);font-weight:600}

/* ── Help Tooltip Button ── */
.help-tooltip-btn{position:fixed;bottom:24px;right:24px;width:44px;height:44px;border-radius:50%;background:var(--bg-2);border:1px solid var(--border);color:var(--text2);font-size:20px;font-weight:700;cursor:pointer;z-index:200;transition:.2s;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 12px rgba(0,0,0,.15)}
.help-tooltip-btn:hover{border-color:var(--primary);color:var(--primary)}
.help-tooltip-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}

/* Tooltip display when active */
.tooltips-active [data-tooltip]{position:relative}
.tooltips-active [data-tooltip]::after{content:attr(data-tooltip);position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);background:var(--bg-1);color:var(--text);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:12px;white-space:nowrap;z-index:300;pointer-events:none;opacity:0;transition:opacity .2s;box-shadow:0 4px 12px rgba(0,0,0,.2)}
.tooltips-active [data-tooltip]:hover::after{opacity:1}

/* ── Responsive for new components ── */
@media(max-width:768px){
  .cs-wrap{flex-direction:column;align-items:stretch}
  .cs-donut{margin:0 auto}
  .pp-grid{grid-template-columns:1fr}
  .settings-grid{grid-template-columns:1fr}
  .hm-wrap{padding-bottom:16px}
  .quick-actions{gap:6px}
  .qa-btn{padding:6px 12px;font-size:12px}
}

/* ══════════════════════════════════════════════════════════════════════════
   DATA HUB — Tabs, Forms, Upload, Connections, Google Modal
   ══════════════════════════════════════════════════════════════════════════ */
.dh-tabs{display:flex;gap:4px;background:var(--bg-2);border-radius:var(--radius);padding:4px;margin-bottom:24px;overflow-x:auto}
.dh-tab{padding:8px 16px;border-radius:var(--radius-sm);background:transparent;border:none;color:var(--text2);font-weight:500;font-size:13px;cursor:pointer;white-space:nowrap;transition:all .2s}
.dh-tab:hover{color:var(--text);background:var(--bg-3)}
.dh-tab.active{background:var(--primary);color:#fff}
.dh-panel{display:none}
.dh-panel.active{display:block}

/* Forms */
.dh-form{display:flex;flex-direction:column;gap:16px}
.dh-field{display:flex;flex-direction:column;gap:4px;flex:1}
.dh-field-row{display:flex;gap:12px}
.dh-label{font-size:13px;font-weight:500;color:var(--text2)}
.dh-input{padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-2);color:var(--text);font-size:14px;transition:border-color .2s}
.dh-input:focus{outline:none;border-color:var(--primary)}
.dh-input-sm{max-width:160px}
.dh-input-xs{max-width:70px}
.dh-save-btn{margin-top:8px}
.dh-hint{font-size:13px;color:var(--text3);margin-bottom:16px}
.dh-result{padding:16px;border-radius:var(--radius-sm);background:var(--bg-2);margin-top:16px;border-left:4px solid var(--success)}
.dh-result.error{border-left-color:var(--danger)}
.required{color:var(--danger)}

/* Expandable items */
.dh-details{border:1px solid var(--border);border-radius:var(--radius-sm);padding:12px}
.dh-summary{cursor:pointer;font-size:13px;font-weight:500;color:var(--primary-light);padding:4px 0}
.dh-item-row{display:flex;gap:8px;align-items:center;margin-top:8px}
.dh-remove-btn{background:transparent;border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text3);padding:6px 10px;cursor:pointer}
.dh-remove-btn:hover{color:var(--danger);border-color:var(--danger)}
.dh-add-item-btn{margin-top:8px;background:transparent;border:1px dashed var(--border);border-radius:var(--radius-sm);color:var(--primary-light);padding:8px;cursor:pointer;font-size:13px;width:100%;transition:all .2s}
.dh-add-item-btn:hover{border-color:var(--primary);background:rgba(99,102,241,.05)}

/* Calendar */
.dh-streak{font-size:14px;color:var(--text2);margin-bottom:16px;padding:12px;background:var(--bg-2);border-radius:var(--radius-sm)}
.dh-streak strong{color:var(--success)}
.dh-calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}
.dh-cal-header{font-size:11px;text-align:center;color:var(--text3);padding:4px 0;font-weight:600}
.dh-cal-day{aspect-ratio:1;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:11px;background:var(--bg-2);color:var(--text3)}
.dh-cal-day.logged{background:rgba(16,185,129,.2);color:var(--success);font-weight:600}
.dh-cal-day.today{border:2px solid var(--primary)}
.dh-cal-day.empty{background:transparent}

/* CSV Upload */
.dh-upload-zone{border:2px dashed var(--border);border-radius:var(--radius);padding:48px 24px;text-align:center;transition:all .25s;cursor:pointer}
.dh-upload-zone:hover,.dh-upload-zone.dragover{border-color:var(--primary);background:rgba(99,102,241,.05)}
.dh-upload-zone svg{color:var(--text3);margin-bottom:12px}
.dh-upload-text{font-size:15px;color:var(--text);margin-bottom:8px}
.dh-upload-link{color:var(--primary-light);cursor:pointer;text-decoration:underline}
.dh-upload-sub{font-size:12px;color:var(--text3)}
.dh-csv-preview{margin-top:24px}
.dh-preview-title{font-size:14px;margin-bottom:12px;color:var(--text2)}
.dh-preview-table-wrap{overflow-x:auto;margin-bottom:20px;max-height:250px;overflow-y:auto;border:1px solid var(--border);border-radius:var(--radius-sm)}
.dh-mapping{margin-bottom:20px}
.dh-mapping h4{font-size:14px;margin-bottom:12px;color:var(--text)}
.dh-mapping-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.dh-map-field label{font-size:12px;color:var(--text2);display:block;margin-bottom:4px}
.dh-import-actions{display:flex;gap:12px;align-items:center}
.dh-cancel-btn{background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text2);padding:8px 16px;cursor:pointer;transition:all .2s}
.dh-cancel-btn:hover{background:var(--bg-3);color:var(--text)}
.dh-import-result{margin-top:16px;padding:16px;border-radius:var(--radius-sm);background:var(--bg-2);border-left:4px solid var(--success)}
.dh-import-result.has-errors{border-left-color:var(--warning)}

/* Products / Customers header */
.dh-header-actions{display:flex;gap:8px;align-items:center}
.dh-upload-mini-btn{font-size:12px;padding:6px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text2);cursor:pointer;transition:all .2s}
.dh-upload-mini-btn:hover{border-color:var(--primary);color:var(--primary-light)}
.dh-upload-mini-btn input{display:none}
.dh-product-form{padding:16px;background:var(--bg-2);border-radius:var(--radius-sm);margin-bottom:16px;border:1px solid var(--border)}
.dh-form-actions{display:flex;gap:8px;margin-top:12px}
.dh-search-bar{margin-bottom:12px}
.dh-pagination{display:flex;gap:8px;justify-content:center;margin-top:12px}
.dh-page-btn{padding:6px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-2);color:var(--text2);cursor:pointer;font-size:12px}
.dh-page-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}

/* Connections */
.dh-connections-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:16px}
.dh-connection-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;display:flex;flex-direction:column;gap:14px;transition:all .2s}
.dh-connection-card:hover{border-color:var(--border-light)}
.dh-conn-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.dh-conn-info{flex:1}
.dh-conn-name{font-weight:600;font-size:15px;margin-bottom:4px}
.dh-conn-desc{font-size:13px;color:var(--text2);line-height:1.5}
.dh-conn-status{font-size:12px;color:var(--text3);margin-top:6px}
.dh-conn-status.connected{color:var(--success)}
.dh-conn-btn{align-self:flex-start}
.dh-notify-wrap{display:flex;gap:8px;align-items:center}
.dh-notify-email{flex:1;padding:6px 10px;font-size:12px}
.dh-notify-btn{padding:6px 14px;border:1px solid var(--primary);border-radius:var(--radius-sm);background:transparent;color:var(--primary-light);cursor:pointer;font-size:12px;white-space:nowrap;transition:all .2s}
.dh-notify-btn:hover{background:var(--primary);color:#fff}

/* Google Modal */
.dh-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px}
.dh-modal{background:var(--bg-1);border:1px solid var(--border);border-radius:var(--radius);width:100%;max-width:640px;max-height:80vh;display:flex;flex-direction:column}
.dh-modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--border)}
.dh-modal-header h3{font-size:16px}
.dh-modal-close{background:none;border:none;color:var(--text3);font-size:22px;cursor:pointer;padding:4px 8px}
.dh-modal-close:hover{color:var(--text)}
.dh-modal-body{padding:20px;overflow-y:auto;flex:1}
.dh-modal-footer{margin-top:16px;display:flex;justify-content:flex-end}
.dh-google-results{display:flex;flex-direction:column;gap:8px;margin-top:12px;max-height:350px;overflow-y:auto}
.dh-google-result{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;transition:all .2s}
.dh-google-result:hover{border-color:var(--primary);background:rgba(99,102,241,.05)}
.dh-google-result.selected{border-color:var(--success);background:rgba(16,185,129,.08)}
.dh-gr-info{flex:1}
.dh-gr-name{font-weight:600;font-size:14px}
.dh-gr-addr{font-size:12px;color:var(--text3)}
.dh-gr-meta{font-size:12px;color:var(--text2);margin-top:2px}
.dh-gr-action{padding:6px 14px;border:1px solid var(--primary);border-radius:var(--radius-sm);background:transparent;color:var(--primary-light);font-size:12px;cursor:pointer;white-space:nowrap}
.dh-gr-action:hover{background:var(--primary);color:#fff}
.dh-gr-check{width:20px;height:20px;border:2px solid var(--border);border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s}
.dh-google-result.selected .dh-gr-check{border-color:var(--success);background:var(--success);color:#fff}

@media(max-width:768px){
  .dh-field-row{flex-direction:column}
  .dh-input-sm,.dh-input-xs{max-width:100%}
  .dh-connections-grid{grid-template-columns:1fr}
  .dh-mapping-grid{grid-template-columns:1fr}
  .dh-tabs{flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}
}
